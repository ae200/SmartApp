{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@ngu/carousel/lib/ngu-carousel/ngu-carousel.ts","ng://@ngu/carousel/lib/ngu-carousel.directive.ts","ng://@ngu/carousel/lib/ngu-carousel/ngu-carousel.component.ts","ng://@ngu/carousel/lib/ngu-item/ngu-item.component.ts","ng://@ngu/carousel/lib/ngu-tile/ngu-tile.component.ts","ng://@ngu/carousel/lib/ngu-carousel.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","touch","vertical","interval","transform","button","visibleItems","deviceType","type","token","items","load","deviceWidth","carouselWidth","itemWidth","slideItems","itemWidthPer","itemLength","currentSlide","easing","speed","loop","dexVal","touchTransform","isEnd","isFirst","isLast","RTL","point","velocity","Touch","Vertical","Transfrom","this","xs","sm","md","lg","all","NguCarouselOutletContext","data","$implicit","NguCarouselItemDirective","Directive","selector","NguCarouselNextDirective","NguCarouselPrevDirective","NguCarouselPointDirective","NguCarouselDefDirective","template","TemplateRef","NguCarouselOutlet","viewContainer","ViewContainerRef","NguCarousel","_el","_renderer","_differs","platformId","cdr","_this","_super","call","withAnim","isHovered","carouselLoad","EventEmitter","onMove","_intervalController$","Subject","pointNumbers","paramIndex","decorator","__","constructor","prototype","create","__extends","_dataSource","_switchDataSource","btn","listener2","listen","nativeElement","_carouselScrollOne","listener1","_trackByFn","fn","isDevMode","console","warn","JSON","stringify","ngOnInit","_dataDiffer","find","_i","item","trackBy","dataIndex","ngDoCheck","arrayChanges","diff","dataSource","_defDirec","_observeRenderChanges","dataStream","Observable","isArray","of","_dataSubscription","pipe","takeUntil","subscribe","renderNodeChanges","_nodeOutlet","forEachOperation","adjustedPreviousIndex","currentIndex","node","_getNodeDef","previousIndex","context","index","createEmbeddedView","remove","view","get","move","_updateItemIndexContext","carousel","_storeCarouselData","renderIndex","count","first","last","even","odd","def","when","_defaultNodeDef","ngAfterViewInit","_inputValidation","carouselCssNode","_createStyleElem","isPlatformBrowser","_carouselInterval","enabled","_touch","listener3","event","_onResizing","_onWindowScrolling","ngAfterContentInit","markForCheck","inputs","grid","active","height","directionSym","visible","_carouselSize","ngOnDestroy","carouselInt","unsubscribe","complete","clearTimeout","onScrolling","str","onResize","setTimeout","outerWidth","_setStyle","nguItemsContainer","import","then","hammertime","Hammer","touchContainer","set","direction","DIRECTION_HORIZONTAL","on","ev","offsetWidth","_touchHandling","Math","abs","direc","swipe","srcEvent","stopPropagation","e","center","x","valt","deltaY","deltaX","_setTouchTransfrom","_setTransformFromTouch","condition","top","offsetTop","scrollY","window","heightt","innerHeight","carouselHeight","offsetHeight","next","innerWidth","carouselMain1","trunc","slide","_carouselPoint","reset","withOutAnimation","innerHTML","moveTo","Nos","pointIndex","ceil","pointers","hideOnSingleSlide","push","_carouselPointActiver","_btnBoolean","activePoint","slideremains","btns","_carouselScrollTwo","_generateID","dism","styleid","custom","addClass","animation","itemStyle","setStyle","Btn","itemSpeed","touchMove","MoveSlide","val","somt","floor","_carouselAnimator","_transformStyle","emit","_carouselLoadTrigger","_transformString","collect","slideCss","text","possible","charAt","random","container","listener4","play$_1","fromEvent","mapTo","pause$_1","touchPlay$_1","touchPause$_1","interval$_1","timing","merge","startWith","switchMap","EMPTY","res","initialDelay","_updateItemIndexContextAni","start","end","collectIndex","animate","value","params","distance","_removeAnimations","indexs","forEach","el","prop","datas","styleItem","createElement","styleText","createText","appendChild","ElementRef","Renderer2","IterableDiffers","Inject","args","PLATFORM_ID","ChangeDetectorRef","Input","Output","ContentChildren","ViewChild","static","ContentChild","read","Component","changeDetection","ChangeDetectionStrategy","OnPush","NguCarouselStore","NguItemComponent","classes","HostBinding","NguTileComponent","NguCarouselModule","NgModule","imports","CommonModule","exports","declarations"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export class NguCarouselStore {\r\n  constructor(\r\n    public touch = new Touch(),\r\n    public vertical = new Vertical(),\r\n    public interval?: CarouselInterval,\r\n    public transform = new Transfrom(),\r\n    public button?: NguButton,\r\n    public visibleItems?: ItemsControl,\r\n    public deviceType?: DeviceType,\r\n    public type = 'fixed',\r\n    public token = '',\r\n    public items = 0,\r\n    public load = 0,\r\n    public deviceWidth = 0,\r\n    public carouselWidth = 0,\r\n    public itemWidth = 0,\r\n    public slideItems = 0,\r\n    public itemWidthPer = 0,\r\n    public itemLength = 0,\r\n    public currentSlide = 0,\r\n    public easing = 'cubic-bezier(0, 0, 0.2, 1)',\r\n    public speed = 200,\r\n    public loop = false,\r\n    public dexVal = 0,\r\n    public touchTransform = 0,\r\n    public isEnd = false,\r\n    public isFirst = true,\r\n    public isLast = false,\r\n    public RTL = false,\r\n    public point = true,\r\n    public velocity = 1\r\n  ) {}\r\n}\r\nexport type DeviceType = 'xs' | 'sm' | 'md' | 'lg' | 'all';\r\n\r\nexport type ButtonVisible = 'disabled' | 'hide';\r\n\r\nexport class ItemsControl {\r\n  start: number;\r\n  end: number;\r\n}\r\n\r\nexport class Vertical {\r\n  enabled: boolean;\r\n  height: number;\r\n  // numHeight?: number;\r\n}\r\n\r\nexport class NguButton {\r\n  visibility?: ButtonVisible;\r\n  elastic?: number;\r\n}\r\n\r\nexport class Touch {\r\n  active?: boolean;\r\n  swipe: string;\r\n  velocity: number;\r\n}\r\n\r\nexport class Transfrom {\r\n  constructor(public xs = 0, public sm = 0, public md = 0, public lg = 0, public all = 0) {}\r\n}\r\n\r\nexport class NguCarouselConfig {\r\n  grid: Transfrom;\r\n  slide?: number;\r\n  speed?: number;\r\n  interval?: CarouselInterval;\r\n  animation?: Animate;\r\n  point?: Point;\r\n  type?: string;\r\n  load?: number;\r\n  custom?: Custom;\r\n  loop?: boolean;\r\n  touch?: boolean;\r\n  easing?: string;\r\n  RTL?: boolean;\r\n  button?: NguButton;\r\n  vertical?: Vertical;\r\n  velocity?: number;\r\n}\r\n\r\nexport type Custom = 'banner';\r\nexport type Animate = 'lazy';\r\n\r\nexport interface Point {\r\n  visible: boolean;\r\n  hideOnSingleSlide?: boolean;\r\n}\r\n\r\nexport interface Animation {\r\n  type?: Animate;\r\n  animateStyles?: AnimationStyles;\r\n}\r\n\r\nexport interface AnimationStyles {\r\n  style?: string;\r\n  open?: string;\r\n  close?: string;\r\n  stagger?: number;\r\n}\r\n\r\nexport interface CarouselInterval {\r\n  timing: number;\r\n  initialDelay?: number;\r\n}\r\n\r\nexport class NguCarouselOutletContext<T> {\r\n  /** Data for the node. */\r\n  $implicit: T;\r\n\r\n  /** Depth of the node. */\r\n  level: number;\r\n\r\n  /** Index location of the node. */\r\n  index?: number;\r\n\r\n  /** Length of the number of total dataNodes. */\r\n  count?: number;\r\n\r\n  constructor(data: T) {\r\n    this.$implicit = data;\r\n  }\r\n}\r\n","import { Directive, TemplateRef, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselItem]'\r\n})\r\nexport class NguCarouselItemDirective {}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselNext]'\r\n})\r\nexport class NguCarouselNextDirective {\r\n  // @HostBinding('disabled') disabled: boolean;\r\n  // @HostBinding('style.display') display = 'block';\r\n  // @HostListener('click')\r\n  // onClick() {\r\n  // }\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselPrev]'\r\n})\r\nexport class NguCarouselPrevDirective {\r\n  // @HostBinding('disabled') disabled: boolean;\r\n  // @HostBinding('style.display') display = 'block';\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[NguCarouselPoint]'\r\n})\r\nexport class NguCarouselPointDirective {}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[nguCarouselDef]'\r\n})\r\nexport class NguCarouselDefDirective<T> {\r\n  when: (index: number, nodeData: T) => boolean;\r\n\r\n  constructor(public template: TemplateRef<any>) {}\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[nguCarouselOutlet]'\r\n})\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class NguCarouselOutlet {\r\n  constructor(public viewContainer: ViewContainerRef) {}\r\n}\r\n","import { isPlatformBrowser } from '@angular/common';\r\n\r\nimport {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  DoCheck,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  isDevMode,\r\n  IterableChangeRecord,\r\n  IterableChanges,\r\n  IterableDiffer,\r\n  IterableDiffers,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  PLATFORM_ID,\r\n  QueryList,\r\n  Renderer2,\r\n  TrackByFunction,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { EMPTY, fromEvent, interval, merge, Observable, of, Subject, Subscription } from 'rxjs';\r\nimport { mapTo, startWith, switchMap, takeUntil } from 'rxjs/operators';\r\nimport {\r\n  NguCarouselDefDirective,\r\n  NguCarouselNextDirective,\r\n  NguCarouselOutlet,\r\n  NguCarouselPrevDirective\r\n} from './../ngu-carousel.directive';\r\nimport { NguCarouselConfig, NguCarouselOutletContext, NguCarouselStore } from './ngu-carousel';\r\n\r\n// @dynamic\r\n@Component({\r\n  selector: 'ngu-carousel',\r\n  templateUrl: 'ngu-carousel.component.html',\r\n  styleUrls: ['ngu-carousel.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n// @dynamic\r\n// tslint:disable-next-line:component-class-suffix\r\nexport class NguCarousel<T> extends NguCarouselStore\r\n  implements OnInit, AfterContentInit, AfterViewInit, OnDestroy, DoCheck {\r\n  _dataSubscription: Subscription;\r\n  _dataSource: any;\r\n  _dataDiffer: IterableDiffer<{}>;\r\n  styleid: string;\r\n  private directionSym: string;\r\n  private carouselCssNode: any;\r\n  private pointIndex: number;\r\n  private withAnim = true;\r\n  activePoint: number;\r\n  isHovered = false;\r\n\r\n  @Input() private inputs: NguCarouselConfig;\r\n  @Output() private carouselLoad = new EventEmitter();\r\n\r\n  // tslint:disable-next-line:no-output-on-prefix\r\n  @Output() private onMove = new EventEmitter<NguCarousel<T>>();\r\n  // isFirstss = 0;\r\n  arrayChanges: IterableChanges<{}>;\r\n  carouselInt: Subscription;\r\n\r\n  listener1: () => void;\r\n  listener2: () => void;\r\n  listener3: () => void;\r\n  listener4: () => void;\r\n\r\n  @Input('dataSource')\r\n  get dataSource(): any {\r\n    return this._dataSource;\r\n  }\r\n  set dataSource(data: any) {\r\n    if (data) {\r\n      this._switchDataSource(data);\r\n    }\r\n  }\r\n\r\n  private _defaultNodeDef: NguCarouselDefDirective<any> | null;\r\n\r\n  @ContentChildren(NguCarouselDefDirective)\r\n  private _defDirec: QueryList<NguCarouselDefDirective<any>>;\r\n\r\n  @ViewChild(NguCarouselOutlet, { static: true })\r\n  _nodeOutlet: NguCarouselOutlet;\r\n\r\n  /** The setter is used to catch the button if the button has ngIf\r\n   * issue id #91\r\n   */\r\n  @ContentChild(NguCarouselNextDirective, /* TODO: add static flag */ { read: ElementRef })\r\n  set nextBtn(btn: ElementRef) {\r\n    this.listener2 && this.listener2();\r\n    if (btn) {\r\n      this.listener2 = this._renderer.listen(btn.nativeElement, 'click', () =>\r\n        this._carouselScrollOne(1)\r\n      );\r\n    }\r\n  }\r\n\r\n  /** The setter is used to catch the button if the button has ngIf\r\n   * issue id #91\r\n   */\r\n  @ContentChild(NguCarouselPrevDirective, /* TODO: add static flag */ { read: ElementRef })\r\n  set prevBtn(btn: ElementRef) {\r\n    this.listener1 && this.listener1();\r\n    if (btn) {\r\n      this.listener1 = this._renderer.listen(btn.nativeElement, 'click', () =>\r\n        this._carouselScrollOne(0)\r\n      );\r\n    }\r\n  }\r\n\r\n  @ViewChild('ngucarousel', { read: ElementRef, static: true })\r\n  private carouselMain1: ElementRef;\r\n\r\n  @ViewChild('nguItemsContainer', { read: ElementRef, static: true })\r\n  private nguItemsContainer: ElementRef;\r\n\r\n  @ViewChild('touchContainer', { read: ElementRef, static: true })\r\n  private touchContainer: ElementRef;\r\n\r\n  private _intervalController$ = new Subject<number>();\r\n\r\n  private carousel: any;\r\n\r\n  private onResize: any;\r\n  private onScrolling: any;\r\n\r\n  pointNumbers: Array<any> = [];\r\n\r\n  /**\r\n   * Tracking function that will be used to check the differences in data changes. Used similarly\r\n   * to `ngFor` `trackBy` function. Optimize Items operations by identifying a Items based on its data\r\n   * relative to the function to know if a Items should be added/removed/moved.\r\n   * Accepts a function that takes two parameters, `index` and `item`.\r\n   */\r\n  @Input()\r\n  get trackBy(): TrackByFunction<T> {\r\n    return this._trackByFn;\r\n  }\r\n  set trackBy(fn: TrackByFunction<T>) {\r\n    if (isDevMode() && fn != null && typeof fn !== 'function' && console && console.warn) {\r\n      console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}.`);\r\n    }\r\n    this._trackByFn = fn;\r\n  }\r\n  private _trackByFn: TrackByFunction<T>;\r\n\r\n  constructor(\r\n    private _el: ElementRef,\r\n    private _renderer: Renderer2,\r\n    private _differs: IterableDiffers,\r\n    @Inject(PLATFORM_ID) private platformId: object,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._dataDiffer = this._differs.find([]).create((_i: number, item: any) => {\r\n      return this.trackBy ? this.trackBy(item.dataIndex, item.data) : item;\r\n    });\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.arrayChanges = this._dataDiffer.diff(this.dataSource);\r\n    if (this.arrayChanges && this._defDirec) {\r\n      this._observeRenderChanges();\r\n    }\r\n  }\r\n\r\n  private _switchDataSource(dataSource: any): any {\r\n    this._dataSource = dataSource;\r\n    if (this._defDirec) {\r\n      this._observeRenderChanges();\r\n    }\r\n  }\r\n\r\n  private _observeRenderChanges() {\r\n    let dataStream: Observable<any[]> | undefined;\r\n\r\n    if (this._dataSource instanceof Observable) {\r\n      dataStream = this._dataSource;\r\n    } else if (Array.isArray(this._dataSource)) {\r\n      dataStream = of(this._dataSource);\r\n    }\r\n\r\n    if (dataStream) {\r\n      this._dataSubscription = dataStream\r\n        .pipe(takeUntil(this._intervalController$))\r\n        .subscribe(data => {\r\n          this.renderNodeChanges(data);\r\n          this.isLast = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  private renderNodeChanges(\r\n    data: any[],\r\n    viewContainer: ViewContainerRef = this._nodeOutlet.viewContainer\r\n  ) {\r\n    if (!this.arrayChanges) return;\r\n\r\n    this.arrayChanges.forEachOperation(\r\n      (item: IterableChangeRecord<any>, adjustedPreviousIndex: number, currentIndex: number) => {\r\n        const node = this._getNodeDef(data[currentIndex], currentIndex);\r\n\r\n        if (item.previousIndex == null) {\r\n          const context = new NguCarouselOutletContext<any>(data[currentIndex]);\r\n          context.index = currentIndex;\r\n          viewContainer.createEmbeddedView(node.template, context, currentIndex);\r\n        } else if (currentIndex == null) {\r\n          viewContainer.remove(adjustedPreviousIndex);\r\n        } else {\r\n          const view = viewContainer.get(adjustedPreviousIndex);\r\n          viewContainer.move(view, currentIndex);\r\n        }\r\n      }\r\n    );\r\n    this._updateItemIndexContext();\r\n\r\n    if (this.carousel) {\r\n      this._storeCarouselData();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the index-related context for each row to reflect any changes in the index of the rows,\r\n   * e.g. first/last/even/odd.\r\n   */\r\n  private _updateItemIndexContext() {\r\n    const viewContainer = this._nodeOutlet.viewContainer;\r\n    for (let renderIndex = 0, count = viewContainer.length; renderIndex < count; renderIndex++) {\r\n      const viewRef = viewContainer.get(renderIndex) as any;\r\n      const context = viewRef.context as any;\r\n      context.count = count;\r\n      context.first = renderIndex === 0;\r\n      context.last = renderIndex === count - 1;\r\n      context.even = renderIndex % 2 === 0;\r\n      context.odd = !context.even;\r\n      context.index = renderIndex;\r\n    }\r\n  }\r\n\r\n  private _getNodeDef(data: any, i: number): NguCarouselDefDirective<any> {\r\n    if (this._defDirec.length === 1) {\r\n      return this._defDirec.first;\r\n    }\r\n\r\n    const nodeDef =\r\n      this._defDirec.find(def => def.when && def.when(i, data)) || this._defaultNodeDef;\r\n\r\n    return nodeDef;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.carousel = this._el.nativeElement;\r\n    this._inputValidation();\r\n\r\n    this.carouselCssNode = this._createStyleElem();\r\n\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this._carouselInterval();\r\n      if (!this.vertical.enabled) {\r\n        this._touch();\r\n      }\r\n      this.listener3 = this._renderer.listen('window', 'resize', event => {\r\n        this._onResizing(event);\r\n      });\r\n      this._onWindowScrolling();\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    this._observeRenderChanges();\r\n\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  private _inputValidation() {\r\n    this.type = this.inputs.grid.all !== 0 ? 'fixed' : 'responsive';\r\n    this.loop = this.inputs.loop || false;\r\n    this.inputs.easing = this.inputs.easing || 'cubic-bezier(0, 0, 0.2, 1)';\r\n    this.touch.active = this.inputs.touch || false;\r\n    this.RTL = this.inputs.RTL ? true : false;\r\n    this.interval = this.inputs.interval || null;\r\n    this.velocity = typeof this.inputs.velocity === 'number' ? this.inputs.velocity : this.velocity;\r\n\r\n    if (this.inputs.vertical && this.inputs.vertical.enabled) {\r\n      this.vertical.enabled = this.inputs.vertical.enabled;\r\n      this.vertical.height = this.inputs.vertical.height;\r\n    }\r\n    this.directionSym = this.RTL ? '' : '-';\r\n    this.point =\r\n      this.inputs.point && typeof this.inputs.point.visible !== 'undefined'\r\n        ? this.inputs.point.visible\r\n        : true;\r\n\r\n    this._carouselSize();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.carouselInt && this.carouselInt.unsubscribe();\r\n    this._intervalController$.unsubscribe();\r\n    this.carouselLoad.complete();\r\n    this.onMove.complete();\r\n\r\n    /** remove listeners */\r\n    clearTimeout(this.onScrolling);\r\n    for (let i = 1; i <= 4; i++) {\r\n      const str = `listener${i}`;\r\n      this[str] && this[str]();\r\n    }\r\n  }\r\n\r\n  private _onResizing(event: any): void {\r\n    clearTimeout(this.onResize);\r\n    this.onResize = setTimeout(() => {\r\n      if (this.deviceWidth !== event.target.outerWidth) {\r\n        this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\r\n        this._storeCarouselData();\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  /** Get Touch input */\r\n  private _touch(): void {\r\n    if (this.inputs.touch) {\r\n      import('hammerjs').then(() => {\r\n        const hammertime = new Hammer(this.touchContainer.nativeElement);\r\n        hammertime.get('pan').set({ direction: Hammer.DIRECTION_HORIZONTAL });\r\n\r\n        hammertime.on('panstart', (ev: any) => {\r\n          this.carouselWidth = this.nguItemsContainer.nativeElement.offsetWidth;\r\n          this.touchTransform = this.transform[this.deviceType];\r\n          this.dexVal = 0;\r\n          this._setStyle(this.nguItemsContainer.nativeElement, 'transition', '');\r\n        });\r\n        if (this.vertical.enabled) {\r\n          hammertime.on('panup', (ev: any) => {\r\n            this._touchHandling('panleft', ev);\r\n          });\r\n          hammertime.on('pandown', (ev: any) => {\r\n            this._touchHandling('panright', ev);\r\n          });\r\n        } else {\r\n          hammertime.on('panleft', (ev: any) => {\r\n            this._touchHandling('panleft', ev);\r\n          });\r\n          hammertime.on('panright', (ev: any) => {\r\n            this._touchHandling('panright', ev);\r\n          });\r\n        }\r\n        hammertime.on('panend pancancel', (ev: any) => {\r\n          if (Math.abs(ev.velocity) >= this.velocity) {\r\n            this.touch.velocity = ev.velocity;\r\n            let direc = 0;\r\n            if (!this.RTL) {\r\n              direc = this.touch.swipe === 'panright' ? 0 : 1;\r\n            } else {\r\n              direc = this.touch.swipe === 'panright' ? 1 : 0;\r\n            }\r\n            this._carouselScrollOne(direc);\r\n          } else {\r\n            this.dexVal = 0;\r\n            this._setStyle(\r\n              this.nguItemsContainer.nativeElement,\r\n              'transition',\r\n              'transform 324ms cubic-bezier(0, 0, 0.2, 1)'\r\n            );\r\n            this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\r\n          }\r\n        });\r\n        hammertime.on('hammer.input', ev => {\r\n          // allow nested touch events to no propagate, this may have other side affects but works for now.\r\n          // TODO: It is probably better to check the source element of the event and only apply the handle to the correct carousel\r\n          ev.srcEvent.stopPropagation();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /** handle touch input */\r\n  private _touchHandling(e: string, ev: any): void {\r\n    // vertical touch events seem to cause to panstart event with an odd delta\r\n    // and a center of {x:0,y:0} so this will ignore them\r\n    if (ev.center.x === 0) {\r\n      return;\r\n    }\r\n\r\n    ev = Math.abs(this.vertical.enabled ? ev.deltaY : ev.deltaX);\r\n    let valt = ev - this.dexVal;\r\n    valt =\r\n      this.type === 'responsive'\r\n        ? (Math.abs(ev - this.dexVal) /\r\n          (this.vertical.enabled ? this.vertical.height : this.carouselWidth)) *\r\n        100\r\n        : valt;\r\n    this.dexVal = ev;\r\n    this.touch.swipe = e;\r\n    this._setTouchTransfrom(e, valt);\r\n    this._setTransformFromTouch();\r\n  }\r\n\r\n  private _setTouchTransfrom(e: string, valt: number) {\r\n    const condition = this.RTL ? 'panright' : 'panleft';\r\n    this.touchTransform = e === condition ? valt + this.touchTransform : this.touchTransform - valt;\r\n  }\r\n\r\n  private _setTransformFromTouch() {\r\n    if (this.touchTransform < 0) {\r\n      this.touchTransform = 0;\r\n    }\r\n    const type = this.type === 'responsive' ? '%' : 'px';\r\n    this._setStyle(\r\n      this.nguItemsContainer.nativeElement,\r\n      'transform',\r\n      this.vertical.enabled\r\n        ? `translate3d(0, ${this.directionSym}${this.touchTransform}${type}, 0)`\r\n        : `translate3d(${this.directionSym}${this.touchTransform}${type}, 0, 0)`\r\n    );\r\n  }\r\n\r\n  /** this fn used to disable the interval when it is not on the viewport */\r\n  private _onWindowScrolling(): void {\r\n    const top = this.carousel.offsetTop;\r\n    const scrollY = window.scrollY;\r\n    const heightt = window.innerHeight;\r\n    const carouselHeight = this.carousel.offsetHeight;\r\n    const isCarouselOnScreen =\r\n      top <= scrollY + heightt - carouselHeight / 4 && top + carouselHeight / 2 >= scrollY;\r\n\r\n    if (isCarouselOnScreen) {\r\n      this._intervalController$.next(1);\r\n    } else {\r\n      this._intervalController$.next(0);\r\n    }\r\n  }\r\n\r\n  /** store data based on width of the screen for the carousel */\r\n  private _storeCarouselData(): void {\r\n    this.deviceWidth = isPlatformBrowser(this.platformId) ? window.innerWidth : 1200;\r\n\r\n    this.carouselWidth = this.carouselMain1.nativeElement.offsetWidth;\r\n\r\n    if (this.type === 'responsive') {\r\n      this.deviceType =\r\n        this.deviceWidth >= 1200\r\n          ? 'lg'\r\n          : this.deviceWidth >= 992\r\n            ? 'md'\r\n            : this.deviceWidth >= 768\r\n              ? 'sm'\r\n              : 'xs';\r\n\r\n      this.items = this.inputs.grid[this.deviceType];\r\n      this.itemWidth = this.carouselWidth / this.items;\r\n    } else {\r\n      this.items = Math.trunc(this.carouselWidth / this.inputs.grid.all);\r\n      this.itemWidth = this.inputs.grid.all;\r\n      this.deviceType = 'all';\r\n    }\r\n\r\n    this.slideItems = +(this.inputs.slide < this.items ? this.inputs.slide : this.items);\r\n    this.load = this.inputs.load >= this.slideItems ? this.inputs.load : this.slideItems;\r\n    this.speed = this.inputs.speed && this.inputs.speed > -1 ? this.inputs.speed : 400;\r\n    this._carouselPoint();\r\n  }\r\n\r\n  /** Used to reset the carousel */\r\n  public reset(withOutAnimation?: boolean): void {\r\n    withOutAnimation && (this.withAnim = false);\r\n    this.carouselCssNode.innerHTML = '';\r\n    this.moveTo(0);\r\n    this._carouselPoint();\r\n  }\r\n\r\n  /** Init carousel point */\r\n  private _carouselPoint(): void {\r\n    const Nos = this.dataSource.length - (this.items - this.slideItems);\r\n    this.pointIndex = Math.ceil(Nos / this.slideItems);\r\n    const pointers = [];\r\n\r\n    if (this.pointIndex > 1 || !this.inputs.point.hideOnSingleSlide) {\r\n      for (let i = 0; i < this.pointIndex; i++) {\r\n        pointers.push(i);\r\n      }\r\n    }\r\n    this.pointNumbers = pointers;\r\n\r\n    this._carouselPointActiver();\r\n    if (this.pointIndex <= 1) {\r\n      this._btnBoolean(1, 1);\r\n    } else {\r\n      if (this.currentSlide === 0 && !this.loop) {\r\n        this._btnBoolean(1, 0);\r\n      } else {\r\n        this._btnBoolean(0, 0);\r\n      }\r\n    }\r\n  }\r\n\r\n  /** change the active point in carousel */\r\n  private _carouselPointActiver(): void {\r\n    const i = Math.ceil(this.currentSlide / this.slideItems);\r\n    this.activePoint = i;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  /** this function is used to scoll the carousel when point is clicked */\r\n  public moveTo(slide: number, withOutAnimation?: boolean) {\r\n    // slide = slide - 1;\r\n    withOutAnimation && (this.withAnim = false);\r\n    if (this.activePoint !== slide && slide < this.pointIndex) {\r\n      let slideremains;\r\n      const btns = this.currentSlide < slide ? 1 : 0;\r\n\r\n      switch (slide) {\r\n        case 0:\r\n          this._btnBoolean(1, 0);\r\n          slideremains = slide * this.slideItems;\r\n          break;\r\n        case this.pointIndex - 1:\r\n          this._btnBoolean(0, 1);\r\n          slideremains = this.dataSource.length - this.items;\r\n          break;\r\n        default:\r\n          this._btnBoolean(0, 0);\r\n          slideremains = slide * this.slideItems;\r\n      }\r\n      this._carouselScrollTwo(btns, slideremains, this.speed);\r\n    }\r\n  }\r\n\r\n  /** set the style of the carousel based the inputs data */\r\n  private _carouselSize(): void {\r\n    this.token = this._generateID();\r\n    let dism = '';\r\n    this.styleid = `.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`;\r\n\r\n    if (this.inputs.custom === 'banner') {\r\n      this._renderer.addClass(this.carousel, 'banner');\r\n    }\r\n\r\n    if (this.inputs.animation === 'lazy') {\r\n      dism += `${this.styleid} > .item {transition: transform .6s ease;}`;\r\n    }\r\n\r\n    let itemStyle = '';\r\n    if (this.vertical.enabled) {\r\n      const itemWidthXS = `${this.styleid} > .item {height: ${this.vertical.height /\r\n        +this.inputs.grid.xs}px}`;\r\n      const itemWidthSM = `${this.styleid} > .item {height: ${this.vertical.height /\r\n        +this.inputs.grid.sm}px}`;\r\n      const itemWidthMD = `${this.styleid} > .item {height: ${this.vertical.height /\r\n        +this.inputs.grid.md}px}`;\r\n      const itemWidthLG = `${this.styleid} > .item {height: ${this.vertical.height /\r\n        +this.inputs.grid.lg}px}`;\r\n\r\n      itemStyle = `@media (max-width:767px){${itemWidthXS}}\r\n                    @media (min-width:768px){${itemWidthSM}}\r\n                    @media (min-width:992px){${itemWidthMD}}\r\n                    @media (min-width:1200px){${itemWidthLG}}`;\r\n    } else if (this.type === 'responsive') {\r\n      const itemWidthXS =\r\n        this.inputs.type === 'mobile'\r\n          ? `${this.styleid} .item {flex: 0 0 ${95 / +this.inputs.grid.xs}%; width: ${95 /\r\n          +this.inputs.grid.xs}%;}`\r\n          : `${this.styleid} .item {flex: 0 0 ${100 / +this.inputs.grid.xs}%; width: ${100 /\r\n          +this.inputs.grid.xs}%;}`;\r\n\r\n      const itemWidthSM = `${this.styleid} > .item {flex: 0 0 ${100 /\r\n        +this.inputs.grid.sm}%; width: ${100 / +this.inputs.grid.sm}%}`;\r\n      const itemWidthMD = `${this.styleid} > .item {flex: 0 0 ${100 /\r\n        +this.inputs.grid.md}%; width: ${100 / +this.inputs.grid.md}%}`;\r\n      const itemWidthLG = `${this.styleid} > .item {flex: 0 0 ${100 /\r\n        +this.inputs.grid.lg}%; width: ${100 / +this.inputs.grid.lg}%}`;\r\n\r\n      itemStyle = `@media (max-width:767px){${itemWidthXS}}\r\n                    @media (min-width:768px){${itemWidthSM}}\r\n                    @media (min-width:992px){${itemWidthMD}}\r\n                    @media (min-width:1200px){${itemWidthLG}}`;\r\n    } else {\r\n      itemStyle = `${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`;\r\n    }\r\n\r\n    this._renderer.addClass(this.carousel, this.token);\r\n    if (this.vertical.enabled) {\r\n      this._renderer.addClass(this.nguItemsContainer.nativeElement, 'nguvertical');\r\n      this._renderer.setStyle(\r\n        this.carouselMain1.nativeElement,\r\n        'height',\r\n        `${this.vertical.height}px`\r\n      );\r\n    }\r\n\r\n    // tslint:disable-next-line:no-unused-expression\r\n    this.RTL && !this.vertical.enabled && this._renderer.addClass(this.carousel, 'ngurtl');\r\n    this._createStyleElem(`${dism} ${itemStyle}`);\r\n    this._storeCarouselData();\r\n  }\r\n\r\n  /** logic to scroll the carousel step 1 */\r\n  private _carouselScrollOne(Btn: number): void {\r\n    let itemSpeed = this.speed;\r\n    let translateXval = 0;\r\n    let currentSlide = 0;\r\n    const touchMove = Math.ceil(this.dexVal / this.itemWidth);\r\n    this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\r\n\r\n    if (this.pointIndex === 1) {\r\n      return;\r\n    } else if (Btn === 0 && ((!this.loop && !this.isFirst) || this.loop)) {\r\n\r\n      const currentSlideD = this.currentSlide - this.slideItems;\r\n      const MoveSlide = currentSlideD + this.slideItems;\r\n      this._btnBoolean(0, 1);\r\n      if (this.currentSlide === 0) {\r\n        currentSlide = this.dataSource.length - this.items;\r\n        itemSpeed = 400;\r\n        this._btnBoolean(0, 1);\r\n      } else if (this.slideItems >= MoveSlide) {\r\n        currentSlide = translateXval = 0;\r\n        this._btnBoolean(1, 0);\r\n      } else {\r\n        this._btnBoolean(0, 0);\r\n        if (touchMove > this.slideItems) {\r\n          currentSlide = this.currentSlide - touchMove;\r\n          itemSpeed = 200;\r\n        } else {\r\n          currentSlide = this.currentSlide - this.slideItems;\r\n        }\r\n      }\r\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\r\n    } else if (Btn === 1 && ((!this.loop && !this.isLast) || this.loop)) {\r\n      if (\r\n        this.dataSource.length <= this.currentSlide + this.items + this.slideItems &&\r\n        !this.isLast\r\n      ) {\r\n        currentSlide = this.dataSource.length - this.items;\r\n        this._btnBoolean(0, 1);\r\n      } else if (this.isLast) {\r\n        currentSlide = translateXval = 0;\r\n        itemSpeed = 400;\r\n        this._btnBoolean(1, 0);\r\n      } else {\r\n        this._btnBoolean(0, 0);\r\n        if (touchMove > this.slideItems) {\r\n          currentSlide = this.currentSlide + this.slideItems + (touchMove - this.slideItems);\r\n          itemSpeed = 200;\r\n        } else {\r\n          currentSlide = this.currentSlide + this.slideItems;\r\n        }\r\n      }\r\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\r\n    }\r\n  }\r\n\r\n  /** logic to scroll the carousel step 2 */\r\n  private _carouselScrollTwo(Btn: number, currentSlide: number, itemSpeed: number): void {\r\n    // tslint:disable-next-line:no-unused-expression\r\n\r\n    if (this.dexVal !== 0) {\r\n      const val = Math.abs(this.touch.velocity);\r\n      let somt = Math.floor((this.dexVal / val / this.dexVal) * (this.deviceWidth - this.dexVal));\r\n      somt = somt > itemSpeed ? itemSpeed : somt;\r\n      itemSpeed = somt < 200 ? 200 : somt;\r\n      this.dexVal = 0;\r\n    }\r\n    if (this.withAnim) {\r\n      this._setStyle(\r\n        this.nguItemsContainer.nativeElement,\r\n        'transition',\r\n        `transform ${itemSpeed}ms ${this.inputs.easing}`\r\n      );\r\n      this.inputs.animation &&\r\n        this._carouselAnimator(\r\n          Btn,\r\n          currentSlide + 1,\r\n          currentSlide + this.items,\r\n          itemSpeed,\r\n          Math.abs(this.currentSlide - currentSlide)\r\n        );\r\n    } else {\r\n      this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\r\n    }\r\n\r\n    this.itemLength = this.dataSource.length;\r\n    this._transformStyle(currentSlide);\r\n    this.currentSlide = currentSlide;\r\n    this.onMove.emit(this);\r\n    this._carouselPointActiver();\r\n    this._carouselLoadTrigger();\r\n    this.withAnim = true;\r\n  }\r\n\r\n  /** boolean function for making isFirst and isLast */\r\n  private _btnBoolean(first: number, last: number) {\r\n    this.isFirst = !!first;\r\n    this.isLast = !!last;\r\n  }\r\n\r\n  private _transformString(grid: string, slide: number): string {\r\n    let collect = '';\r\n    collect += `${this.styleid} { transform: translate3d(`;\r\n\r\n    if (this.vertical.enabled) {\r\n      this.transform[grid] = (this.vertical.height / this.inputs.grid[grid]) * slide;\r\n      collect += `0, -${this.transform[grid]}px, 0`;\r\n    } else {\r\n      this.transform[grid] = (100 / this.inputs.grid[grid]) * slide;\r\n      collect += `${this.directionSym}${this.transform[grid]}%, 0, 0`;\r\n    }\r\n    collect += `); }`;\r\n    return collect;\r\n  }\r\n\r\n  /** set the transform style to scroll the carousel  */\r\n  private _transformStyle(slide: number): void {\r\n    let slideCss = '';\r\n    if (this.type === 'responsive') {\r\n      slideCss = `@media (max-width: 767px) {${this._transformString('xs', slide)}}\r\n      @media (min-width: 768px) {${this._transformString('sm', slide)} }\r\n      @media (min-width: 992px) {${this._transformString('md', slide)} }\r\n      @media (min-width: 1200px) {${this._transformString('lg', slide)} }`;\r\n    } else {\r\n      this.transform.all = this.inputs.grid.all * slide;\r\n      slideCss = `${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;\r\n    }\r\n    this.carouselCssNode.innerHTML = slideCss;\r\n  }\r\n\r\n  /** this will trigger the carousel to load the items */\r\n  private _carouselLoadTrigger(): void {\r\n    if (typeof this.inputs.load === 'number') {\r\n      this.dataSource.length - this.load <= this.currentSlide + this.items &&\r\n        this.carouselLoad.emit(this.currentSlide);\r\n    }\r\n  }\r\n\r\n  /** generate Class for each carousel to set specific style */\r\n  private _generateID(): string {\r\n    let text = '';\r\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (let i = 0; i < 6; i++) {\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return `ngucarousel${text}`;\r\n  }\r\n\r\n  /** handle the auto slide */\r\n  private _carouselInterval(): void {\r\n    const container = this.carouselMain1.nativeElement;\r\n    if (this.interval && this.loop) {\r\n      this.listener4 = this._renderer.listen('window', 'scroll', () => {\r\n        clearTimeout(this.onScrolling);\r\n        this.onScrolling = setTimeout(() => {\r\n          this._onWindowScrolling();\r\n        }, 600);\r\n      });\r\n\r\n      const play$ = fromEvent(container, 'mouseleave').pipe(mapTo(1));\r\n      const pause$ = fromEvent(container, 'mouseenter').pipe(mapTo(0));\r\n\r\n      const touchPlay$ = fromEvent(container, 'touchstart').pipe(mapTo(1));\r\n      const touchPause$ = fromEvent(container, 'touchend').pipe(mapTo(0));\r\n\r\n      const interval$ = interval(this.inputs.interval.timing).pipe(mapTo(1));\r\n\r\n      setTimeout(() => {\r\n        this.carouselInt = merge(play$, touchPlay$, pause$, touchPause$, this._intervalController$)\r\n          .pipe(\r\n            startWith(1),\r\n            switchMap(val => {\r\n              this.isHovered = !val;\r\n              this.cdr.markForCheck();\r\n              return val ? interval$ : EMPTY;\r\n            })\r\n          )\r\n          .subscribe(res => {\r\n            this._carouselScrollOne(1);\r\n          });\r\n      }, this.interval.initialDelay);\r\n    }\r\n  }\r\n\r\n  private _updateItemIndexContextAni() {\r\n    const viewContainer = this._nodeOutlet.viewContainer;\r\n    for (let renderIndex = 0, count = viewContainer.length; renderIndex < count; renderIndex++) {\r\n      const viewRef = viewContainer.get(renderIndex) as any;\r\n      const context = viewRef.context as any;\r\n      context.count = count;\r\n      context.first = renderIndex === 0;\r\n      context.last = renderIndex === count - 1;\r\n      context.even = renderIndex % 2 === 0;\r\n      context.odd = !context.even;\r\n      context.index = renderIndex;\r\n    }\r\n  }\r\n\r\n  /** animate the carousel items */\r\n  private _carouselAnimator(\r\n    direction: number,\r\n    start: number,\r\n    end: number,\r\n    speed: number,\r\n    length: number,\r\n    viewContainer = this._nodeOutlet.viewContainer\r\n  ): void {\r\n    let val = length < 5 ? length : 5;\r\n    val = val === 1 ? 3 : val;\r\n    const collectIndex = [];\r\n\r\n    if (direction === 1) {\r\n      for (let i = start - 1; i < end; i++) {\r\n        collectIndex.push(i);\r\n        val = val * 2;\r\n        const viewRef = viewContainer.get(i) as any;\r\n        const context = viewRef.context as any;\r\n        context.animate = { value: true, params: { distance: val } };\r\n      }\r\n    } else {\r\n      for (let i = end - 1; i >= start - 1; i--) {\r\n        collectIndex.push(i);\r\n        val = val * 2;\r\n        const viewRef = viewContainer.get(i) as any;\r\n        const context = viewRef.context as any;\r\n        context.animate = { value: true, params: { distance: -val } };\r\n      }\r\n    }\r\n    this.cdr.markForCheck();\r\n    setTimeout(() => {\r\n      this._removeAnimations(collectIndex);\r\n    }, speed * 0.7);\r\n  }\r\n\r\n  private _removeAnimations(indexs: number[]) {\r\n    const viewContainer = this._nodeOutlet.viewContainer;\r\n    indexs.forEach(i => {\r\n      const viewRef = viewContainer.get(i) as any;\r\n      const context = viewRef.context as any;\r\n      context.animate = { value: false, params: { distance: 0 } };\r\n    });\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  /** Short form for setElementStyle */\r\n  private _setStyle(el: any, prop: any, val: any): void {\r\n    this._renderer.setStyle(el, prop, val);\r\n  }\r\n\r\n  /** For generating style tag */\r\n  private _createStyleElem(datas?: string) {\r\n    const styleItem = this._renderer.createElement('style');\r\n    if (datas) {\r\n      const styleText = this._renderer.createText(datas);\r\n      this._renderer.appendChild(styleItem, styleText);\r\n    }\r\n    this._renderer.appendChild(this.carousel, styleItem);\r\n    return styleItem;\r\n  }\r\n}\r\n","import { Component, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngu-item',\r\n  templateUrl: 'ngu-item.component.html',\r\n  styleUrls: ['ngu-item.component.scss']\r\n})\r\nexport class NguItemComponent {\r\n  @HostBinding('class.item') classes = true;\r\n}\r\n","import { Component, HostBinding } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngu-tile',\r\n  templateUrl: 'ngu-tile.component.html',\r\n  styleUrls: ['ngu-tile.component.scss']\r\n})\r\nexport class NguTileComponent {\r\n  @HostBinding('class.item') classes = true;\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport {\r\n  HammerModule,\r\n  HAMMER_GESTURE_CONFIG\r\n} from '@angular/platform-browser';\r\nimport {\r\n  NguCarouselDefDirective,\r\n  NguCarouselItemDirective,\r\n  NguCarouselNextDirective,\r\n  NguCarouselOutlet,\r\n  NguCarouselPointDirective,\r\n  NguCarouselPrevDirective\r\n} from './ngu-carousel.directive';\r\nimport { NguCarousel } from './ngu-carousel/ngu-carousel.component';\r\nimport { NguItemComponent } from './ngu-item/ngu-item.component';\r\nimport { NguTileComponent } from './ngu-tile/ngu-tile.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [\r\n    NguCarousel,\r\n    NguItemComponent,\r\n    NguTileComponent,\r\n    NguCarouselPointDirective,\r\n    NguCarouselItemDirective,\r\n    NguCarouselNextDirective,\r\n    NguCarouselPrevDirective,\r\n    NguCarouselDefDirective,\r\n    NguCarouselOutlet\r\n  ],\r\n  declarations: [\r\n    NguCarousel,\r\n    NguItemComponent,\r\n    NguTileComponent,\r\n    NguCarouselPointDirective,\r\n    NguCarouselItemDirective,\r\n    NguCarouselNextDirective,\r\n    NguCarouselPrevDirective,\r\n    NguCarouselDefDirective,\r\n    NguCarouselOutlet\r\n  ]\r\n})\r\nexport class NguCarouselModule { }\r\n"]}